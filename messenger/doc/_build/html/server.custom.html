
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Server custom modules documentation &#8212; Messenger 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Server database module documentation" href="server.database.html" />
    <link rel="prev" title="Server module documentation" href="server.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="server-custom-modules-documentation">
<h1>Server custom modules documentation<a class="headerlink" href="#server-custom-modules-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-server.custom.variables">
<span id="variables-py"></span><h2>variables.py<a class="headerlink" href="#module-server.custom.variables" title="Permalink to this headline">¶</a></h2>
<p>The module contains global variables for the server application.</p>
</div>
<div class="section" id="module-server.custom.function">
<span id="function-py"></span><h2>function.py<a class="headerlink" href="#module-server.custom.function" title="Permalink to this headline">¶</a></h2>
<p>Module with function for send_message and get_message.</p>
<dl class="function">
<dt id="server.custom.function.get_message">
<code class="sig-prename descclassname">server.custom.function.</code><code class="sig-name descname">get_message</code><span class="sig-paren">(</span><em class="sig-param">client_server</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.function.get_message" title="Permalink to this definition">¶</a></dt>
<dd><p>The function of receive messages from remote computers. Receives JSON
messages, decode the received message and verifies that the dictionary
is received.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client_server</strong> (<em>obj</em>) – server socket.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="server.custom.function.send_message">
<code class="sig-prename descclassname">server.custom.function.</code><code class="sig-name descname">send_message</code><span class="sig-paren">(</span><em class="sig-param">sock</em>, <em class="sig-param">message</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.function.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>The function takes a message dictionary, serializes it in json and sends.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> (<em>str</em>) – transmission socket.</p></li>
<li><p><strong>message</strong> (<em>dict</em>) – message to send.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-server.custom.decorators">
<span id="decorators-py"></span><h2>decorators.py<a class="headerlink" href="#module-server.custom.decorators" title="Permalink to this headline">¶</a></h2>
<p>The module contains decorators for the server application.</p>
<dl class="class">
<dt id="server.custom.decorators.Log">
<em class="property">class </em><code class="sig-prename descclassname">server.custom.decorators.</code><code class="sig-name descname">Log</code><a class="headerlink" href="#server.custom.decorators.Log" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A decorator that logs function calls. Saves events containing information
about the name of the called function, the parameters with which the
function is called, and the module that calls the function.</p>
</dd></dl>

</div>
<div class="section" id="module-server.custom.metaclass">
<span id="metaclass-py"></span><h2>metaclass.py<a class="headerlink" href="#module-server.custom.metaclass" title="Permalink to this headline">¶</a></h2>
<p>Module with metaclass performing basic server check.</p>
<dl class="class">
<dt id="server.custom.metaclass.ServerVerified">
<em class="property">class </em><code class="sig-prename descclassname">server.custom.metaclass.</code><code class="sig-name descname">ServerVerified</code><span class="sig-paren">(</span><em class="sig-param">class_name</em>, <em class="sig-param">bases</em>, <em class="sig-param">class_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.metaclass.ServerVerified" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></p>
<p>A metaclass that checks that there are no client calls in the resulting
class such as: connect. It is also verified that the server socket is TCP
and works over the IPv4 protocol.</p>
</dd></dl>

</div>
<div class="section" id="module-server.custom.parse_args">
<span id="parse-args-py"></span><h2>parse_args.py<a class="headerlink" href="#module-server.custom.parse_args" title="Permalink to this headline">¶</a></h2>
<p>The module contains functions for parsing startup parameters
from the command line.</p>
<dl class="function">
<dt id="server.custom.parse_args.args_parser">
<code class="sig-prename descclassname">server.custom.parse_args.</code><code class="sig-name descname">args_parser</code><span class="sig-paren">(</span><em class="sig-param">default_ip</em>, <em class="sig-param">default_port</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.parse_args.args_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for parsing arguments from the command line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_ip</strong> – The default IP address.</p></li>
<li><p><strong>default_port</strong> – default port.</p></li>
<li><p><strong>args</strong> (<em>tuple</em>) – tuple with arguments for the parser.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>object namespace with arguments.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-server.custom.core">
<span id="core-py"></span><h2>core.py<a class="headerlink" href="#module-server.custom.core" title="Permalink to this headline">¶</a></h2>
<p>The main class of the server. It accepts connections, dictionaries - packages
from clients, processes incoming messages. Works as a separate thread.</p>
<dl class="class">
<dt id="server.custom.core.Server">
<em class="property">class </em><code class="sig-prename descclassname">server.custom.core.</code><code class="sig-name descname">Server</code><span class="sig-paren">(</span><em class="sig-param">listen_address</em>, <em class="sig-param">listen_port</em>, <em class="sig-param">database</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.core.Server" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<dl class="attribute">
<dt id="server.custom.core.Server.address">
<code class="sig-name descname">address</code><a class="headerlink" href="#server.custom.core.Server.address" title="Permalink to this definition">¶</a></dt>
<dd><p>Class is the handle to the IP address. Regular expression checks the
validity of the entered address. When you try to set the wrong IP address,
the application terminates.</p>
</dd></dl>

<dl class="method">
<dt id="server.custom.core.Server.init_socket">
<code class="sig-name descname">init_socket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.core.Server.init_socket" title="Permalink to this definition">¶</a></dt>
<dd><p>The method preparing a server socket.</p>
</dd></dl>

<dl class="method">
<dt id="server.custom.core.Server.message_handler">
<code class="sig-name descname">message_handler</code><span class="sig-paren">(</span><em class="sig-param">message</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.core.Server.message_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>The method processes the message. Accepts a message dictionary, list
of users and listening sockets. Sends a message to the recipient.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<em>str</em>) – message to send.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="server.custom.core.Server.port">
<code class="sig-name descname">port</code><a class="headerlink" href="#server.custom.core.Server.port" title="Permalink to this definition">¶</a></dt>
<dd><p>Class is the handle to the port number. Allows only ports 1023 through
65536 to be used. When you try to set the wrong port number, the
application terminates.</p>
</dd></dl>

<dl class="method">
<dt id="server.custom.core.Server.processing_message">
<code class="sig-name descname">processing_message</code><span class="sig-paren">(</span><em class="sig-param">message</em>, <em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.core.Server.processing_message" title="Permalink to this definition">¶</a></dt>
<dd><p>The method processes the message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<em>dict</em>) – message dictionary.</p></li>
<li><p><strong>client</strong> (<em>obj</em>) – client socket object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="server.custom.core.Server.remove_client">
<code class="sig-name descname">remove_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.core.Server.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>The method searches for a client in the client dictionary
and removes it from the lists and databases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<em>obj</em>) – client socket object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="server.custom.core.Server.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.core.Server.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The main server loop.</p>
</dd></dl>

<dl class="method">
<dt id="server.custom.core.Server.send_update_list">
<code class="sig-name descname">send_update_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.core.Server.send_update_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The method sends a message 205 asking customers to update the lists.</p>
</dd></dl>

<dl class="method">
<dt id="server.custom.core.Server.user_authorization">
<code class="sig-name descname">user_authorization</code><span class="sig-paren">(</span><em class="sig-param">message</em>, <em class="sig-param">sock</em><span class="sig-paren">)</span><a class="headerlink" href="#server.custom.core.Server.user_authorization" title="Permalink to this definition">¶</a></dt>
<dd><p>User authorization method on the server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<em>dict</em>) – message dictionary.</p></li>
<li><p><strong>sock</strong> – client socket object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Messenger</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="server.html">Server module documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Server custom modules documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-server.custom.variables">variables.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-server.custom.function">function.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-server.custom.decorators">decorators.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-server.custom.metaclass">metaclass.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-server.custom.parse_args">parse_args.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-server.custom.core">core.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="server.database.html">Server database module documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="server.gui.html">Server GUI modules documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="server.log.html">Server logging modules documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="server.descriptors.html">Server descriptors modules documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="server.html#module-server.server_start">server_start.py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Client module documentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="server.html">Server module documentation</a><ul>
      <li>Previous: <a href="server.html" title="previous chapter">Server module documentation</a></li>
      <li>Next: <a href="server.database.html" title="next chapter">Server database module documentation</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Dronkin Artem.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/server.custom.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>